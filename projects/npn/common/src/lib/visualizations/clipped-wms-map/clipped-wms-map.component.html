<div class="vis-container">
    <div class="vis-working" *ngIf="selection.working">
        <npn-logo spin="false"></npn-logo>
    </div>
    <div class="map-wrapper">
        <agm-map (mapReady)="mapReady($event)"  [streetViewControl]="false"  [styles]="mapStyles" [scrollwheel]="false"></agm-map>
        <map-layer-legend *ngIf="!thumbnail && selection.legend && selection.data && selection.data.statistics && selection.data.statistics.count !== 0" [legend]="selection.legend"></map-layer-legend>
        <clipped-wms-map-statistics *ngIf="!thumbnail && selection && selection.data && selection.data.statistics"
            [selection]="selection"></clipped-wms-map-statistics>
    </div>
    <supports-opacity-control *ngIf="!thumbnail" [supportsOpacity]="selection.overlay"></supports-opacity-control>
</div>
